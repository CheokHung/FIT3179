{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",

    "params":[],

    "title": "Historical number of Olympic Medals Won per Country (over 120 Years)",
      "width": 900,
      "height": 500,
      "projection": {"type":"equalEarth","rotate":[-150,0,0]},
      "layer":[
        {"data": {
                "url": "https://raw.githubusercontent.com/CheokHung/FIT3179/master/js/ne_110m_admin_0_countries.topojson",
                "format":{"type": "topojson", "feature": "ne_110m_admin_0_countries"} },
          "transform": [             
            {
              "lookup": "properties.NAME",
              "from":{
                "data" :{
                  "url":"https://raw.githubusercontent.com/CheokHung/FIT3179/master/data/cleaned_data.csv"
                },
                "key":"Country",
                "fields": ["Medal"]
              }
            },
            {"calculate": "datum.Medal + 0.1", "as": "Medals Won"}
          ],
          
          "mark":{"type": "geoshape"},
          "encoding": {
            "color":{
              "field":"Medals Won",
              "type": "quantitative",
              "scale": {"type":"log", "domain":[1,10000]}
            },
            "tooltip":[
              {"field": "properties.NAME", "type": "nominal", "title": "Country"},
              {"field": "Medal", "type": "quantitative"}
            ]
            }
        },
        {
          "data":{
            "url": "https://raw.githubusercontent.com/CheokHung/FIT3179/master/js/ne_110m_ocean.topojson",
            "format":{"type":"topojson","feature": "ne_110m_ocean"}},
          "mark":{
            "type": "geoshape",
            "fill":"skyblue"}

        },
        {
          "data":{
            "url": "https://raw.githubusercontent.com/CheokHung/FIT3179/master/js/ne_110m_graticule_30.topojson",
            "format":{"type":"topojson","feature": "ne_110m_graticules_30"}
          },
          "mark":{"type": "geoshape",
                  "fill":null,
                  "stroke":"lightgray"}
        }

    ]
      
    
    
  }